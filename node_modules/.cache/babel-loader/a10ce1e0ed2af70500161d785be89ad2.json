{"ast":null,"code":"import _defineProperty from\"/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import CommentForm from'../Form/Comment_form';import commentAPI from'../../Api/commentAPI';var createComment=/*#__PURE__*/function(_Component){_inherits(createComment,_Component);var _super=_createSuper(createComment);function createComment(){var _this;_classCallCheck(this,createComment);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={comment:\"\",reqHeader:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();commentAPI.postComments(_this.props.id,_this.state.comment,_this.state.reqHeader).then(function(){return _this.setState({comment:\"\"});}).catch(function(err){return console.log(err);});};return _this;}_createClass(createComment,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(CommentForm,{commentValue:this.state.comment,commentChange:this.handleChange,commentSubmit:this.handleSubmit});}}]);return createComment;}(Component);export default createComment;","map":{"version":3,"sources":["/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/src/components/Comments/createComment.js"],"names":["React","Component","CommentForm","commentAPI","createComment","state","comment","reqHeader","localStorage","getItem","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","postComments","props","id","then","catch","err","console","log"],"mappings":"w1BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,C,GAGMC,CAAAA,a,uVAEFC,K,CAAQ,CACJC,OAAO,CAAE,EADL,CAEJC,SAAS,CAAE,CACP,iCAA2BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3B,CADO,CAFP,C,OAORC,Y,CAAe,SAACC,KAAD,CAAW,mBACEA,KAAK,CAACC,MADR,CACdC,IADc,eACdA,IADc,CACRC,KADQ,eACRA,KADQ,CAEtB,MAAKC,QAAL,oBAAiBF,IAAjB,CAAwBC,KAAxB,GACH,C,OAEDE,Y,CAAe,SAACL,KAAD,CAAW,CACtBA,KAAK,CAACM,cAAN,GAEAd,UAAU,CAACe,YAAX,CAAwB,MAAKC,KAAL,CAAWC,EAAnC,CAAuC,MAAKf,KAAL,CAAWC,OAAlD,CAA2D,MAAKD,KAAL,CAAWE,SAAtE,EACCc,IADD,CACM,iBAAM,OAAKN,QAAL,CAAc,CAACT,OAAO,CAAE,EAAV,CAAd,CAAN,EADN,EAECgB,KAFD,CAEO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFV,EAGH,C,gFAES,CACN,mBACG,oBAAC,WAAD,EACC,YAAY,CAAE,KAAKlB,KAAL,CAAWC,OAD1B,CAEC,aAAa,CAAE,KAAKI,YAFrB,CAGC,aAAa,CAAE,KAAKM,YAHrB,EADH,CAOH,C,2BA9BuBf,S,EAiC5B,cAAeG,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react'\nimport CommentForm from '../Form/Comment_form'\nimport commentAPI from '../../Api/commentAPI'\n\n\nclass createComment extends Component {\n\n    state = {\n        comment: \"\",\n        reqHeader: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n    }\n\n    handleChange = (event) => {\n        const { name, value } = event.target\n        this.setState({ [name]: value })\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault()\n\n        commentAPI.postComments(this.props.id, this.state.comment, this.state.reqHeader)\n        .then(() => this.setState({comment: \"\"}))\n        .catch(err => console.log(err))\n    }\n\n    render () {\n        return (\n           <CommentForm \n            commentValue={this.state.comment}\n            commentChange={this.handleChange}\n            commentSubmit={this.handleSubmit}\n           />\n        )\n    }\n}\n\nexport default createComment"]},"metadata":{},"sourceType":"module"}