{"ast":null,"code":"var _jsxFileName = \"/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/src/components/User/Profile.js\";\nimport React, { Fragment } from \"react\";\nimport API from '../../Api/userAPI';\nimport { Redirect } from 'react-router-dom';\nimport { Card, Container, Row, Col } from \"reactstrap\";\nimport './Profile.css';\nconst headers = {\n  'Authorization': `Bearer ${localStorage.getItem('token')}`\n};\n\nclass Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {},\n      redirect: false\n    };\n\n    this.handleDelete = () => {\n      API.deleteAccount(headers).then(() => {\n        console.log(\"Account was deleted\");\n        localStorage.clear();\n        this.setState({\n          redirect: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    // document.documentElement.scrollTop = 0;\n    // document.scrollingElement.scrollTop = 0;\n    // this.refs.main.scrollTop = 0;\n    API.getProfile(headers).then(user => {\n      this.setState({\n        user: user.data\n      });\n      console.log(this.state.user);\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const {\n      profilePicture,\n      firstname,\n      lastname,\n      biography,\n      email,\n      redirect\n    } = this.state.user;\n\n    if (!localStorage.getItem('token')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }\n      });\n    }\n\n    if (redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 16\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"main\", {\n      className: \"profile-page\",\n      ref: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"card-profile shadow mt--300\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"order-lg-2\",\n      lg: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-profile-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#pablo\",\n      onClick: e => e.preventDefault(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"rounded-circle\",\n      src: profilePicture,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 27\n      }\n    }), \" \"))), /*#__PURE__*/React.createElement(Col, {\n      className: \"order-lg-3 text-lg-right align-self-lg-center\",\n      lg: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, lastname, \"  \", ' ', \"  \", firstname), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h6 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ni business_briefcase-24 mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 23\n      }\n    }), email)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5 py-5 border-top text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, biography))))))))));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/maiga/Desktop/DWJ OPC/P7_Maiga_Boubacar/frontend/src/components/User/Profile.js"],"names":["React","Fragment","API","Redirect","Card","Container","Row","Col","headers","localStorage","getItem","Profile","Component","state","user","redirect","handleDelete","deleteAccount","then","console","log","clear","setState","catch","err","componentDidMount","getProfile","data","render","profilePicture","firstname","lastname","biography","email","e","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,GAA1B,EAA+BC,GAA/B,QAA0C,YAA1C;AACA,OAAO,eAAP;AAEA,MAAMC,OAAO,GAAG;AACZ,mBAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAD7C,CAAhB;;AAIA,MAAMC,OAAN,SAAsBX,KAAK,CAACY,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACJC,MAAAA,IAAI,EAAE,EADF;AAEJC,MAAAA,QAAQ,EAAE;AAFN,KAF0B;;AAAA,SAsBpCC,YAtBoC,GAsBrB,MAAM;AACnBd,MAAAA,GAAG,CAACe,aAAJ,CAAkBT,OAAlB,EACCU,IADD,CACM,MAAM;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAX,QAAAA,YAAY,CAACY,KAAb;AACA,aAAKC,QAAL,CAAc;AAACP,UAAAA,QAAQ,EAAE;AAAX,SAAd;AACH,OALD,EAMCQ,KAND,CAMOC,GAAG,IAAI;AACVL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,OARD;AASH,KAhCqC;AAAA;;AAOpCC,EAAAA,iBAAiB,GAAG;AAClB;AACA;AACA;AAEAvB,IAAAA,GAAG,CAACwB,UAAJ,CAAelB,OAAf,EACCU,IADD,CACMJ,IAAI,IAAI;AACV,WAAKQ,QAAL,CAAc;AACVR,QAAAA,IAAI,EAAEA,IAAI,CAACa;AADD,OAAd;AAGAR,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWC,IAAvB;AACH,KAND,EAOCS,KAPD,CAOOC,GAAG,IAAIL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAPd;AAQD;;AAcDI,EAAAA,MAAM,GAAG;AAEP,UAAM;AAACC,MAAAA,cAAD;AAAiBC,MAAAA,SAAjB;AAA4BC,MAAAA,QAA5B;AAAsCC,MAAAA,SAAtC;AAAiDC,MAAAA,KAAjD;AAAwDlB,MAAAA;AAAxD,QAAoE,KAAKF,KAAL,CAAWC,IAArF;;AAEA,QAAG,CAACL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAkC;AAC9B,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAED,QAAGK,QAAH,EAAY;AACR,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AAED,wBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,cAAhB;AAA+B,MAAA,GAAG,EAAC,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAS,MAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,6BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,EAAE,EAAC,GAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAC,QAAR;AAAiB,MAAA,OAAO,EAAEmB,CAAC,IAAIA,CAAC,CAACC,cAAF,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,GAAG,EAAC,KADN;AAEE,MAAA,SAAS,EAAC,gBAFZ;AAGE,MAAA,GAAG,EAAEN,cAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,MADF,CADF,CADF,eAWE,oBAAC,GAAD;AACE,MAAA,SAAS,EAAC,+CADZ;AAEE,MAAA,EAAE,EAAC,GAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,CADF,eAmBE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,QADH,QACe,GADf,QACsBD,SADtB,CADF,eAKE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,+BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEGG,KAFH,CALF,CAnBF,eA6BE;AAAK,MAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACED,SADF,CADF,CADF,CADF,CA7BF,CADF,CADF,CADF,CADF,CADF,CADF;AAmDD;;AAjGmC;;AAoGtC,eAAerB,OAAf","sourcesContent":["import React, {Fragment} from \"react\";\nimport API from '../../Api/userAPI'\nimport { Redirect } from 'react-router-dom'\nimport { Card, Container, Row, Col } from \"reactstrap\";\nimport './Profile.css'\n\nconst headers = {\n    'Authorization': `Bearer ${localStorage.getItem('token')}`\n};\n\nclass Profile extends React.Component {\n\n    state = {\n        user: {},\n        redirect: false\n    }\n\n  componentDidMount() {\n    // document.documentElement.scrollTop = 0;\n    // document.scrollingElement.scrollTop = 0;\n    // this.refs.main.scrollTop = 0;\n    \n    API.getProfile(headers)\n    .then(user => {\n        this.setState({\n            user: user.data\n        })\n        console.log(this.state.user)\n    })\n    .catch(err => console.log(err))\n  }\n\n  handleDelete = () => {\n    API.deleteAccount(headers)\n    .then(() => {\n        console.log(\"Account was deleted\")\n        localStorage.clear()\n        this.setState({redirect: true})\n    })\n    .catch(err => {\n        console.log(err)\n    })\n}\n\n  render() {\n\n    const {profilePicture, firstname, lastname, biography, email, redirect} = this.state.user\n\n    if(!localStorage.getItem('token')){\n        return <Redirect to='/' />\n    }\n\n    if(redirect){\n        return <Redirect to='/' />\n    }\n\n    return ( \n      <Fragment> \n        <main className=\"profile-page\" ref=\"main\">\n          <section className=\"section\">\n            <Container>\n              <Card className=\"card-profile shadow mt--300\">\n                <div className=\"px-4\">\n                  <Row className=\"justify-content-center\">\n                    <Col className=\"order-lg-2\" lg=\"3\">\n                      <div className=\"card-profile-image\">\n                        <a href=\"#pablo\" onClick={e => e.preventDefault()}>\n                          <img\n                            alt=\"...\"\n                            className=\"rounded-circle\"\n                            src={profilePicture}\n                          /> </a>\n                      </div>\n                    </Col>\n                    <Col\n                      className=\"order-lg-3 text-lg-right align-self-lg-center\"\n                      lg=\"4\"\n                    >\n                    </Col>\n                    \n                  </Row>\n                  <div className=\"text-center mt-5\">\n                    <h3>\n                      {lastname}  {' '}  {firstname}\n                    </h3>\n            \n                    <div className=\"h6 mt-4\">\n                      <i className=\"ni business_briefcase-24 mr-2\" />\n                      {email}\n                    </div>\n                  </div>\n                  <div className=\"mt-5 py-5 border-top text-center\">\n                    <Row className=\"justify-content-center\">\n                      <Col lg=\"9\">\n                        <p>\n                         {biography}\n                        </p>\n                      </Col>\n                    </Row>\n                  </div>\n                </div>\n              </Card>\n            </Container>\n          </section>\n        </main>\n      </Fragment>  \n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}