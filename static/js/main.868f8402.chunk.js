(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t,a){e.exports=a(139)},111:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),l=a(12),c=a(13),m=a(15),s=a(14),u=(a(77),a(66)),d=a(87),p=a.n(d),f=(a(111),a(177)),g=a(180),h=a(182),b=a(183),v=a(88),E=a.n(v),A=a(200),C=a(92),y=a(21),S=Object(f.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,left:0,right:0,margin:"0 auto"}}}));function w(){var e=S(),t=r.a.useState(null),a=Object(u.a)(t,2),n=a[0],o=a[1],i=Boolean(n);return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{position:"static"},r.a.createElement(h.a,{className:"toolbar"},r.a.createElement(y.b,{to:"/post"},r.a.createElement("img",{src:p.a,alt:"Groupomania Logo"})),r.a.createElement("div",null,r.a.createElement(b.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit"},r.a.createElement(E.a,null)),r.a.createElement(C.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){o(null)}},localStorage.getItem("token")?r.a.createElement("div",null,r.a.createElement(A.a,null,r.a.createElement(y.b,{to:"/profile"},"Profil")),r.a.createElement(A.a,null,r.a.createElement(y.b,{onClick:function(){localStorage.clear()},to:"/"},"D\xe9connexion"))):r.a.createElement("div",null,r.a.createElement(A.a,null,r.a.createElement(b.a,{size:"small",color:"inherit"},r.a.createElement(y.b,{to:"/"},"Connexion"))),r.a.createElement(A.a,null,r.a.createElement(b.a,{size:"small",color:"inherit"},r.a.createElement(y.b,{to:"/signup"},"Inscription")))))))))}var j=a(22),N=a(18),O=a.n(N),k="https://api-groupomania.herokuapp.com/api/user",I=function(e,t,a,n){return O.a.post(k+"/signup",{firstname:e,lastname:t,email:a,password:n})},x=function(e,t){return O.a.post(k+"/login",{email:e,password:t})},P=function(e){return O.a.get(k+"/me",{headers:e})},z=function(e,t){return O.a.put(k+"/me",e,{headers:t})},H=function(e){return O.a.delete(k+"/me",{headers:e})},B=a(11),D=a(186),T=a(199),G=a(187),q=a(185),L=a(51),F=a(184),Z=(a(135),Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})));function W(e){var t=e.firstnameValue,a=e.lastnameValue,n=e.emailValue,o=e.passwordValue,i=e.cpasswordValue,l=e.Change,c=e.Submit,m=e.errors,s=Z();return r.a.createElement(F.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:s.paper},m,r.a.createElement(L.a,{component:"h1",variant:"h5"},"Inscription"),r.a.createElement("form",{className:s.form,onSubmit:c},r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(T.a,{name:"firstname",variant:"outlined",required:!0,fullWidth:!0,id:"firstname",label:"Pr\xe9nom",autoFocus:!0,value:t,onChange:l})),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastname",label:"Nom",name:"lastname",value:a,onChange:l})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",value:n,onChange:l})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",value:o,onChange:l})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirmation de mot de passe",type:"password",id:"confirmPassword",value:i,onChange:l}))),r.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit},"S'inscrire"),r.a.createElement(q.a,{container:!0,justify:"flex-end"},r.a.createElement(q.a,{item:!0},r.a.createElement(G.a,{href:"/",variant:"body2"},"Vous avez d\xe9j\xe0 un compte ? Connectez-vous"))))))}var M=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={firstname:"",lastname:"",email:"",password:"",confirmPassword:"",redirection:!1,formIsValid:!0,errors:{}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(j.a)({},n,r))},e.verification=function(){var t=e.state,a=t.firstname,n=t.lastname,r=t.email,o=t.password,i=t.confirmPassword,l=t.errors,c=t.formIsValid;return/^[A-Za-z]{2,}$/.test(a)||(e.setState({formIsValid:!1}),l.firstname="Le pr\xe9nom est incorrect"),/^[A-Za-z]{2,}$/.test(n)||(e.setState({formIsValid:!1}),l.lastname="Le nom est incorrect"),/^[A-Za-z0-9._-]+@[A-Za-z0-9._-]+\.[A-Za-z]{2,}$/.test(r)||(e.setState({formIsValid:!1}),l.email="L'email est incorrect"),(!o||o.length<8)&&(e.setState({formIsValid:!1}),l.password="Le mot de passe doit contenir au moins 8 caract\xe8res"),i!==o&&(e.setState({formIsValid:!1}),l.confirmPassword="La confirmation du mot de passe est incorrect"),e.setState({errors:l}),c},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.firstname,r=a.lastname,o=a.email,i=a.password;e.verification()?I(n,r,o,i).then((function(){e.setState({redirection:!0})})).catch((function(e){console.log(e)})):console.log("Form has errors"),e.setState({formIsValid:!0})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.firstname,a=e.lastname,o=e.email,i=e.password,l=e.confirmPassword,c=e.redirection,m=e.errors;if(localStorage.getItem("token"))return r.a.createElement(B.a,{to:"/post"});if(c)return r.a.createElement(B.a,{to:"/"});var s=Object.keys(m).map((function(e){return r.a.createElement("p",{className:"errors",key:e},m[e])}));return r.a.createElement(n.Fragment,null,r.a.createElement(W,{firstnameValue:t,lastnameValue:a,email:o,passwordValue:i,cpasswordValue:l,Change:this.handleChange,Submit:this.handleSubmit,errors:s}))}}]),a}(n.Component),V=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Q(e){var t=e.emailValue,a=e.passwordValue,n=e.Change,o=e.Submit,i=e.errors,l=V();return r.a.createElement(F.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:l.paper},i,r.a.createElement(L.a,{component:"h1",variant:"h5"},"Connexion"),r.a.createElement("form",{className:l.form,onSubmit:o},r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoFocus:!0,value:t,onChange:n}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",value:a,onChange:n}),r.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit},"Se connecter"),r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0},r.a.createElement(G.a,{href:"/signup",variant:"body2"},"Vous n'avez pas encore de compte ? Inscrivez vous"))))))}a(136);var R=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",admin:!1,formIsValid:!0,errors:{},redirection:!1},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(j.a)({},n,r))},e.verification=function(){var t=e.state,a=t.email,n=t.password,r=t.errors,o=t.formIsValid;return/^[A-Za-z0-9_.-]+@[A-Za-z0-9_.-]+\.[A-Za-z]{2,}$/.test(a)||(r.email="L'email est invalide",e.setState({formIsValid:!1})),(!n||n.length<8)&&(r.password="Le mot de passe est invalide",e.setState({formIsValid:!1})),e.setState({errors:r}),o},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;e.verification()?x(n,r).then((function(t){t.data.isAdmin&&e.setState({admin:!0}),localStorage.setItem("token",t.data.token),localStorage.setItem("userId",t.data.userId),e.setState({redirection:!0})})).catch((function(e){return console.log(e)})):console.log("Form has errors"),e.setState({formIsValid:!0})},e}return Object(c.a)(a,[{key:"render",value:function(){if(localStorage.getItem("token"))return r.a.createElement(B.a,{to:"/post"});if(this.state.redirection)return r.a.createElement(B.a,{to:"/post"});var e=this.state,t=e.email,a=e.password,n=e.errors,o=Object.keys(n).map((function(e){return r.a.createElement("p",{className:"errors",key:e},n[e])}));return r.a.createElement(Q,{emailValue:t,passwordValue:a,Change:this.handleChange,Submit:this.handleSubmit,errors:o})}}]),a}(n.Component),U=a(188),X=a(189),Y=a(190),J=a(191),K=(a(137),function(e){var t=e.profilePicture,a=e.lastname,o=e.firstname,i=e.email,l=e.biography,c=e.component,m=e.handleDelete;return r.a.createElement(n.Fragment,null,r.a.createElement("main",{className:"profile-page mb-5"},r.a.createElement("section",{className:"section"},r.a.createElement(U.a,null,r.a.createElement(X.a,{className:"card-profile shadow mt--300"},r.a.createElement("div",{className:"px-4"},r.a.createElement(Y.a,{className:"justify-content-center"},r.a.createElement(J.a,{className:"order-lg-2",lg:"3"},r.a.createElement("div",{className:"card-profile-image"},t?r.a.createElement("img",{className:"rounded-circle",src:t}):null))),r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement("h3",null,a,"  "," ","  ",o),r.a.createElement("div",{className:"h6 mt-4"},r.a.createElement("i",{className:"ni business_briefcase-24 mr-2"}),i)),r.a.createElement("div",{className:"mt-5 py-5 border-top text-center"},r.a.createElement(Y.a,{className:"justify-content-center"},r.a.createElement(J.a,{lg:"9"},r.a.createElement("p",null,l))))),c,r.a.createElement(D.a,{variant:"contained",color:"secondary",onClick:m},"Supprimer le compte"))))))}),_=a(65),$=a.n(_),ee=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},label:{margin:e.spacing(1)},button:{margin:e.spacing(1)},container:{boxShadow:" -7px 11px 34px 15px rgba(0,0,0,0.24)",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}));function te(e){var t=e.biographyValue,a=e.biographyChange,n=e.profilePictureChange,o=e.fileName,i=e.Submit,l=ee();return r.a.createElement(F.a,{component:"main",maxWidth:"xs",className:l.container},r.a.createElement("div",{className:l.paper},r.a.createElement("form",{className:l.form,onSubmit:i},r.a.createElement(q.a,{container:!0,justify:"center",spacing:0},r.a.createElement(q.a,{item:!0,xs:8},r.a.createElement(T.a,{name:"biography",id:"biography",variant:"outlined",multiline:!0,placeholder:"Biographie...",value:t,onChange:a})),r.a.createElement("input",{accept:"image/*",className:l.input,id:"profilePicture",name:"profilePicture",type:"file",onChange:n}),r.a.createElement("label",{htmlFor:"profilePicture"},r.a.createElement(D.a,{variant:"contained",color:"primary",component:"span",className:l.label},r.a.createElement($.a,null))),o,r.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit},"Mettre \xe0 jour")))))}var ae=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={biography:"",profilePicture:null,fileName:"",reqHeader:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(j.a)({},n,r))},e.handleSubmit=function(t){var a=new FormData;a.append("biography",e.state.biography),a.append("profilePicture",e.state.profilePicture),z(a,e.state.reqHeader).then().catch((function(e){console.log(e)}))},e.profilePictureChange=function(t){e.setState({profilePicture:t.target.files[0],fileName:t.target.files[0].name})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.biography,a=e.fileName;return localStorage.getItem("token")?r.a.createElement(n.Fragment,null,r.a.createElement(te,{biographyValue:t,biographyChange:this.handleChange,profilePictureChange:this.profilePictureChange,Submit:this.handleSubmit,fileName:a})):r.a.createElement(B.a,{to:"/"})}}]),a}(n.Component),ne=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:{},redirect:!1,reqHeader:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.handleDelete=function(){H(e.state.reqHeader).then((function(){console.log("Account was deleted"),localStorage.clear(),e.setState({redirect:!0})})).catch((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;P(this.state.reqHeader).then((function(t){e.setState({user:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.redirect;return localStorage.getItem("token")?a?r.a.createElement(B.a,{to:"/"}):r.a.createElement(K,{profilePicture:t.profilePicture,lastname:t.lastname,firstname:t.firstname,email:t.email,biography:t.biography,component:r.a.createElement(ae,null),handleDelete:this.handleDelete}):r.a.createElement(B.a,{to:"/"})}}]),a}(r.a.Component),re=a(50),oe="https://api-groupomania.herokuapp.com/api/article",ie=function(e){return O.a.get(oe+"/",{headers:e})},le=function(e,t){return O.a.post(oe+"/",e,{headers:t})},ce=function(e,t,a){return O.a.put(oe+"/"+e,t,{headers:a})},me=function(e,t){return O.a.delete(oe+"/"+e,{headers:t})},se=function(e,t){return O.a.post("https://api-groupomania.herokuapp.com/api/like/article/"+e,{},{headers:t})},ue=(a(138),a(4)),de=a(193),pe=a(194),fe=a(196),ge=a(195),he=a(197),be=a(198),ve=a(201),Ee=a(67),Ae=a(89),Ce=a.n(Ae),ye=a(90),Se=a.n(ye),we=a(70),je=a.n(we),Ne=a(91),Oe=a.n(Ne),ke="https://api-groupomania.herokuapp.com/api/comment/article/",Ie=function(e,t,a){return O.a.post(ke+e,{comment:t},{headers:a})},xe=function(e,t){return O.a.get(ke+e,{headers:t})},Pe=function(e,t,a){return O.a.delete(ke+e+"/"+t,{headers:a})},ze=a(192),He=Object(f.a)((function(e){return{avatar:{backgroundColor:ze.a[500]}}}));function Be(e){var t=e.isAdmin,a=e.creator,n=e.profilePicture,o=e.name,i=e.comment,l=e.handleDeleteComment,c=He();return r.a.createElement(de.a,{variant:"outlined"},r.a.createElement(pe.a,{avatar:r.a.createElement(ve.a,{"aria-label":"recipe",src:n,className:c.avatar}),title:o}),r.a.createElement(ge.a,null,r.a.createElement(L.a,{variant:"body2",color:"textSecondary",component:"p"},i)),parseInt(localStorage.getItem("userId"))===a||t?r.a.createElement(D.a,{style:{display:"flex",marginLeft:"auto"},color:"secondary",onClick:l},"supprimer"):null)}var De=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isAdmin:!1,allComment:{},reqHeader:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.handleDeleteComment=function(t,a){Pe(t,a,e.state.reqHeader).then((function(t){var n=Object(re.a)(e.state.allComment),r=n.find((function(e){return e.id===a})),o=n.map((function(e){return e.id})).indexOf(r.id);n.splice(o,1),e.setState({allComment:n})})).catch((function(e){return console.log(e)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.articleId;xe(t,this.state.reqHeader).then((function(t){e.setState({allComment:t.data.comments,isAdmin:t.data.isAdmin})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.allComment,a=Object.keys(t).map((function(a){return r.a.createElement(Be,{key:t[a].id,profilePicture:t[a].User.profilePicture,name:t[a].User.firstname+" "+t[a].User.lastname,comment:t[a].commentText,handleDeleteComment:function(){e.handleDeleteComment(t[a].ArticleId,t[a].id)},creator:t[a].UserId,isAdmin:e.state.isAdmin})}));return r.a.createElement(n.Fragment,null,a)}}]),a}(n.Component),Te=Object(f.a)((function(e){return{root:{maxWidth:"60%",boxShadow:" -7px 11px 34px 15px rgba(0,0,0,0.24);",marginTop:e.spacing(8),marginBottom:e.spacing(8),margin:"auto"},media:{maxWidth:"70%",height:0,margin:"0 auto",paddingTop:"70%",marginBottom:"30px"},content:{maxWidth:"80%",margin:"0 auto"},actionIcons:{maxWidth:"70%",margin:"0 auto"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ee.a[500]}}}));function Ge(e){var t=e.isAdmin,a=e.creator,n=e.profilePicture,o=e.name,i=e.likes,l=e.attachment,c=e.content,m=e.handleLikeClick,s=e.commentFormComponent,d=e.handleDelete,p=e.handleUpdate,f=e.articleId,g=Te(),h=r.a.useState(!1),v=Object(u.a)(h,2),E=v[0],A=v[1];return r.a.createElement(de.a,{className:g.root},r.a.createElement(pe.a,{avatar:r.a.createElement(ve.a,{"aria-label":"recipe",src:n,className:g.avatar}),title:o}),l?r.a.createElement(fe.a,{className:g.media,image:l}):null,r.a.createElement(ge.a,null,r.a.createElement(L.a,{variant:"body2",color:"textSecondary",component:"p",className:g.content},c)),r.a.createElement(he.a,{disableSpacing:!0,className:g.actionIcons},r.a.createElement(b.a,{"aria-label":"likes",onClick:m},r.a.createElement(Ce.a,{color:"secondary"})," ",i),r.a.createElement(b.a,{className:Object(ue.a)(g.expand,Object(j.a)({},g.expandOpen,E)),onClick:function(){A(!E)},"aria-expanded":E,"aria-label":"show comments"},r.a.createElement(Se.a,null))),r.a.createElement(be.a,{in:E,timeout:"auto",unmountOnExit:!0},r.a.createElement(De,{articleId:f})),s,parseInt(localStorage.getItem("userId"))===a?r.a.createElement("div",{className:"Actions"},r.a.createElement(b.a,{onClick:d},r.a.createElement(je.a,{color:"secondary",style:{fontSize:40}})),r.a.createElement(b.a,{onClick:p},r.a.createElement(Oe.a,{style:{color:"green",fontSize:40}}))):null,t?r.a.createElement("div",{className:"Actions"},r.a.createElement(b.a,{onClick:d},r.a.createElement(je.a,{color:"secondary",style:{fontSize:40}}))):null)}var qe=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},label:{margin:e.spacing(1)},button:{margin:e.spacing(1)},container:{boxShadow:" -7px 11px 34px 15px rgba(0,0,0,0.24)",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}));function Le(e){var t=e.buttonContent,a=e.contentValue,n=e.contentChange,o=e.attachmentChange,i=e.fileName,l=e.Submit,c=qe();return r.a.createElement(F.a,{component:"main",maxWidth:"xs",className:c.container},r.a.createElement("div",{className:c.paper},r.a.createElement("form",{className:c.form,onSubmit:l},r.a.createElement(q.a,{container:!0,justify:"center",spacing:0},r.a.createElement(q.a,{item:!0,xs:8},r.a.createElement(T.a,{name:"content",id:"content",variant:"outlined",multiline:!0,placeholder:"Que voulez vous dire ?",value:a,onChange:n,required:!0})),r.a.createElement("input",{accept:"image/*",className:c.input,id:"attachment",name:"attachment",type:"file",onChange:o}),r.a.createElement("label",{htmlFor:"attachment"},r.a.createElement(D.a,{variant:"contained",color:"primary",component:"span",className:c.label},r.a.createElement($.a,null))),i,r.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit},t)))))}var Fe=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={errors:[],content:"",attachment:null,fileName:"",redirect:!1,reqHeader:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.handleSubmit=function(){var t=new FormData;t.append("content",e.state.content),t.append("attachment",e.state.attachment),le(t,e.state.reqHeader).then((function(){console.log("Article ajout\xe9"),e.setState({redirect:!0})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(j.a)({},n,r))},e.handleFileChange=function(t){e.setState({attachment:t.target.files[0],fileName:t.target.files[0].name})},e}return Object(c.a)(a,[{key:"render",value:function(){return localStorage.getItem("token")?this.state.redirect?r.a.createElement(B.a,{to:"/post"}):r.a.createElement(Le,{contentValue:this.state.content,contentChange:this.handleChange,attachmentChange:this.handleFileChange,fileName:this.state.fileName,Submit:this.handleSubmit,buttonContent:"Publier"}):r.a.createElement(B.a,{to:"/"})}}]),a}(n.Component),Ze=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},comment:{marginTop:e.spacing(3)}}}));function We(e){var t=e.commentValue,a=e.commentChange,n=e.commentSubmit,o=Ze();return r.a.createElement(F.a,{component:"main",maxWidth:"xs",className:o.container},r.a.createElement("div",{className:o.paper},r.a.createElement("form",{className:o.form,onSubmit:n},r.a.createElement(q.a,{container:!0,justify:"center",spacing:0},r.a.createElement(T.a,{name:"comment",id:"comment",multiline:!0,placeholder:"Commentez...",value:t,onChange:a,className:o.comment,required:!0}),r.a.createElement(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit},"Commenter")))))}var Me=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={comment:"",reqHeader:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(j.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault(),Ie(e.props.id,e.state.comment,e.state.reqHeader).then((function(){return e.setState({comment:""})})).catch((function(e){return console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(We,{commentValue:this.state.comment,commentChange:this.handleChange,commentSubmit:this.handleSubmit})}}]),a}(n.Component),Ve=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={posts:{},isLoaded:!1,update:!1,updateArticle:null,error:null,isAdmin:!1,id:"",reqHeader:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.handleLikeClick=function(t){se(t,e.state.reqHeader).then((function(a){console.log(a);var n=Object(re.a)(e.state.posts),r=n.find((function(e){return e.id===t}));201===a.status?r.likes+=1:r.likes-=1,e.setState({posts:n})})).catch((function(e){return console.log(e)}))},e.handleDeletePost=function(t){me(t,e.state.reqHeader).then((function(){var a=Object(re.a)(e.state.posts),n=a.find((function(e){return e.id===t})),r=a.map((function(e){return e.id})).indexOf(n.id);a.splice(r,1),e.setState({posts:a}),console.log("Article supprim\xe9")})).catch((function(e){return console.log(e)}))},e.handleUpdatePost=function(t){e.setState({update:!0,updateArticle:t})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;ie(this.state.reqHeader).then((function(t){e.setState({posts:t.data.article,isAdmin:t.data.isAdmin})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.posts,o=t.update,i=t.updateArticle,l=t.isAdmin;if(o)return r.a.createElement(B.a,{to:"/post/update/"+i});var c=Object.keys(a).map((function(t){return r.a.createElement(Ge,{key:a[t].id,profilePicture:a[t].User.profilePicture,name:a[t].User.firstname+" "+a[t].User.lastname,likes:a[t].likes,content:a[t].content,attachment:a[t].attachment,handleLikeClick:function(){return e.handleLikeClick(a[t].id)},handleDelete:function(){return e.handleDeletePost(a[t].id)},handleUpdate:function(){return e.handleUpdatePost(a[t].id)},commentFormComponent:r.a.createElement(Me,{id:a[t].id}),creator:a[t].UserId,articleId:a[t].id,isAdmin:l})}));return r.a.createElement(n.Fragment,null,r.a.createElement(Fe,null),c)}}]),a}(n.Component),Qe=Object(B.g)(Ve),Re=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={errors:[],content:"",attachment:null,fileName:"",redirect:!1,reqHeader:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(j.a)({},n,r))},e.handleFileChange=function(t){e.setState({attachment:t.target.files[0],fileName:t.target.files[0].name})},e.handleSubmit=function(t){t.preventDefault();var a=new FormData;a.append("content",e.state.content),a.append("attachment",e.state.attachment);var n=window.location.href.split("/update/")[1];console.log(n),ce(n,a,e.state.reqHeader).then((function(){console.log("Article mis \xe0 jour"),e.setState({redirect:!0})})).catch((function(e){return console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return localStorage.getItem("token")?this.state.redirect?r.a.createElement(B.a,{to:"/post"}):r.a.createElement(n.Fragment,null,r.a.createElement(Le,{Submit:this.handleSubmit,contentValue:this.state.content,contentChange:this.handleChange,attachmentChange:this.handleFileChange,fileName:this.state.fileName,buttonContent:"Mettre \xe0 jour"})):r.a.createElement(B.a,{to:"/"})}}]),a}(n.Component),Ue=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(w,null),r.a.createElement(B.d,null,r.a.createElement(B.b,{exact:!0,path:"/Groupomania/",component:R}),r.a.createElement(B.b,{exact:!0,path:"/Groupomania/signup",component:M}),r.a.createElement(B.b,{exact:!0,path:"/Groupomania/profile",component:ne}),r.a.createElement(B.b,{exact:!0,path:"/Groupomania/post",component:Qe}),r.a.createElement(B.b,{exact:!0,path:"/Groupomania/post/update/:id",component:Re}),r.a.createElement(B.b,{exact:!0,path:"/Groupomania/comment",component:Be}))))}}]),a}(n.Component);i.a.render(r.a.createElement(Ue,null),document.getElementById("root"))},87:function(e,t){e.exports="data:image/png;base64,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"}},[[106,1,2]]]);
//# sourceMappingURL=main.868f8402.chunk.js.map